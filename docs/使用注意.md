### Client（ 使用nacos 作为注册中心）
* 前提是已经部署好了seata server 并且已经注册上nacos 指定的nameSpace
* 在nacos 增加名为 text service.vgroupMapping.default_tx_group的配置default_tx_group的配置为client使用的组，默认和seata 一个命名空间
1. 在SpringBoot工程中加入如下配置
```yaml
seata:
  # 默认是AT AT和XA只能2选一 数据库代理方式不同 
  data-source-proxy-mode: AT
  # 指定该client 使用的seata 的组
  tx-service-group: default_tx_group
  # 启动seata
  enabled: true
  config:
    type: nacos
    nacos:
      server-addr: 192.168.5.66:8848
      # 和seata server 一样的group
      group: SEATA_GROUP
      # 和seata server 一样的name space
      namespace: 4f3764ed-4f7d-4891-91a2-dcedc704b0e4
      data-id: seataServer.properties
  registry:
    type: nacos
    nacos:
      server-addr: 192.168.5.66:8848
      group: SEATA_GROUP
      # 和seata server 一样的name space
      namespace: 4f3764ed-4f7d-4891-91a2-dcedc704b0e4
      cluster: default
      application: seata-server

# 这样设计的好处是 能够在集群故障的时候快速切换
# 只有配置方式为 file 的方式下面配置才生效，才需要指定seata server 的地址
#  service:
#    # 将一个事务组映射到一个 group 集群的名字上来
#    vgroup-mapping:
#      default_tx_group: default
#    # 对 default的groupList 定义集群地址
#    # 文档原文：这里多了一层获取事务分组到映射集群的配置。这样设计后，事务分组可以作为资源的逻辑隔离单位，出现某集群故障时可以快速failover，只切换对应分组，可以把故障缩减到服务级别，但前提也是你有足够server集群。
#    grouplist:
#      default: 192.168.5.66:8091
#    disable-global-transaction: false
```
### 注意事项：
1. TCC使用的时候 如果是本地Bean必须在接口上打上@LocalTCC（注意是接口）
2. 一旦这个接口打上了@LocalTCC，那么这个接口下面所有的方法，都无法使用XA或者AT了，事务会失效
3. 启动前 在nacos 增加名为 text service.vgroupMapping.default_tx_group的配置default_tx_group的配置为client使用的组，配置文件内容为default（和server 的配置保持一直），和seata 一个命名空间，这个是必须的，seata client需要通过这个default来server的地址
4. 记得初始化数据表，AT和TCC都需要，XA不需要
